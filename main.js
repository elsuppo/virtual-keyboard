(()=>{"use strict";const e=[[{key:{ru:"ё",en:"`"},code:"Backquote",class:"button_text"},{key:{ru:"1",en:"1"},code:"Digit1",class:"button_digit"},{key:{ru:"2",en:"2"},code:"Digit2",class:"button_digit"},{key:{ru:"3",en:"3"},code:"Digit3",class:"button_digit"},{key:{ru:"4",en:"4"},code:"Digit4",class:"button_digit"},{key:{ru:"5",en:"5"},code:"Digit5",class:"button_digit"},{key:{ru:"6",en:"6"},code:"Digit6",class:"button_digit"},{key:{ru:"7",en:"7"},code:"Digit7",class:"button_digit"},{key:{ru:"8",en:"8"},code:"Digit8",class:"button_digit"},{key:{ru:"9",en:"9"},code:"Digit9",class:"button_digit"},{key:{ru:"0",en:"0"},code:"Digit0",class:"button_digit"},{key:{ru:"-",en:"-"},code:"Minus",class:"button_digit"},{key:{ru:"=",en:"="},code:"Equal",class:"button_digit"},{key:"Backspace",code:"Backspace",class:"button_backspace"}],[{key:"Tab",code:"Tab",class:"button_tab"},{key:{ru:"й",en:"q"},code:"KeyQ",class:"button_text"},{key:{ru:"ц",en:"w"},code:"KeyW",class:"button_text"},{key:{ru:"у",en:"e"},code:"KeyE",class:"button_text"},{key:{ru:"к",en:"r"},code:"KeyR",class:"button_text"},{key:{ru:"е",en:"t"},code:"KeyT",class:"button_text"},{key:{ru:"н",en:"y"},code:"KeyY",class:"button_text"},{key:{ru:"г",en:"u"},code:"KeyU",class:"button_text"},{key:{ru:"ш",en:"i"},code:"KeyI",class:"button_text"},{key:{ru:"щ",en:"o"},code:"KeyO",class:"button_text"},{key:{ru:"з",en:"p"},code:"KeyP",class:"button_text"},{key:{ru:"х",en:"["},code:"BracketLeft",class:"button_text"},{key:{ru:"ъ",en:"]"},code:"BracketRight",class:"button_text"},{key:{ru:"\\",en:"\\"},code:"Backslash",class:"button_text"},{key:"Del",code:"Delete",class:"button_del"}],[{key:"CapsLock",code:"CapsLock",class:"button_capslock"},{key:{ru:"ф",en:"a"},code:"KeyA",class:"button_text"},{key:{ru:"ы",en:"s"},code:"KeyS",class:"button_text"},{key:{ru:"в",en:"d"},code:"KeyD",class:"button_text"},{key:{ru:"а",en:"f"},code:"KeyF",class:"button_text"},{key:{ru:"п",en:"g"},code:"KeyG",class:"button_text"},{key:{ru:"р",en:"h"},code:"KeyH",class:"button_text"},{key:{ru:"о",en:"j"},code:"KeyJ",class:"button_text"},{key:{ru:"л",en:"k"},code:"KeyK",class:"button_text"},{key:{ru:"д",en:"l"},code:"KeyL",class:"button_text"},{key:{ru:"ж",en:";"},code:"Semicolon",class:"button_text"},{key:{ru:"э",en:"'"},code:"Quote",class:"button_text"},{key:"Enter",code:"Enter",class:"button_enter"}],[{key:"Shift",code:"ShiftLeft",class:"button_leftshift"},{key:{ru:"я",en:"z"},code:"KeyZ",class:"button_text"},{key:{ru:"ч",en:"x"},code:"KeyX",class:"button_text"},{key:{ru:"с",en:"c"},code:"KeyC",class:"button_text"},{key:{ru:"м",en:"v"},code:"KeyV",class:"button_text"},{key:{ru:"и",en:"b"},code:"KeyB",class:"button_text"},{key:{ru:"т",en:"n"},code:"KeyN",class:"button_text"},{key:{ru:"ь",en:"m"},code:"KeyM",class:"button_text"},{key:{ru:"б",en:","},code:"Comma",class:"button_text"},{key:{ru:"ю",en:"."},code:"Period",class:"button_text"},{key:{ru:".",en:"/"},code:"Slash",class:"button_text"},{key:"▲",code:"ArrowUp"},{key:"Shift",code:"ShiftRight",class:"button_rightshift"}],[{key:"Ctrl",code:"ControlLeft",class:"button_leftctrl"},{key:"Win",code:"MetaLeft",class:"button_win"},{key:"Alt",code:"AltLeft",class:"button_leftalt"},{key:" ",code:"Space",class:"button_space"},{key:"Alt",code:"AltRight",class:"button_rightalt"},{key:"◄",code:"ArrowLeft"},{key:"▼",code:"ArrowDown"},{key:"►",code:"ArrowRight"},{key:"Ctrl",code:"ControlRight",class:"button_rightctrl"}]],t=function(t,n){t.innerHTML="";for(let o=0;o<e.length;o+=1){const c=document.createElement("div");c.classList.add("keyboard-row"),t.appendChild(c),e[o].forEach((e=>{let t;t=e.key.ru&&e.key.en?e.key[n]:e.key;const o=document.createElement("div");o.classList.add("button"),o.innerHTML=t,o.dataset.code=e.code,e.class&&o.classList.add(e.class),c.append(o)})),t.append(c)}const o=document.querySelector(".button_capslock");return"false"===localStorage.getItem("caps")?(o.classList.contains("active")&&o.classList.remove("active"),document.querySelectorAll(".button_text").forEach((e=>{e.innerHTML=e.innerHTML.toLowerCase()}))):(document.querySelector(".button_capslock").classList.add("active"),document.querySelectorAll(".button_text").forEach((e=>{e.innerHTML=e.innerHTML.toUpperCase()}))),t},n=function(e){return`\n          <div>\n            <p>change lang <span>shift+alt</span></p>\n            <p>current lang <span>${e}</span></p>\n          </div>\n          <div>\n            <p>made for <span>windows</span></p>\n          </div>\n          `};function o(e){e.classList.contains("active")?(e.classList.remove("active"),document.querySelectorAll(".button_text").forEach((e=>{e.innerHTML=e.innerHTML.toLowerCase()}))):(e.classList.add("active"),document.querySelectorAll(".button_text").forEach((e=>{e.innerHTML=e.innerHTML.toUpperCase()})))}const c=function(e){if("false"===localStorage.getItem("caps")){const t=!0;localStorage.setItem("caps",t),o(e)}else{const t=!1;localStorage.setItem("caps",t),o(e)}},s=document.querySelector("body");let a="en",l=!1;localStorage.getItem("lang")?a=localStorage.getItem("lang"):localStorage.setItem("lang",a),localStorage.getItem("caps")?l=localStorage.getItem("caps"):localStorage.setItem("caps",l);const r=document.createElement("div");r.classList.add("container"),s.appendChild(r);const u=document.createElement("textarea");u.classList.add("textarea"),r.appendChild(u),u.focus();const d=document.createElement("div");d.classList.add("description"),r.appendChild(d);const i=document.createElement("div");i.classList.add("keyboard"),r.appendChild(i),d.innerHTML=n(a),t(i,a);const y=document.querySelectorAll(".button"),b=[];y.forEach((e=>{b.push(e.dataset.code)})),document.addEventListener("keydown",(e=>{const o=i.querySelector(`[data-code=${e.code}]`);b.includes(e.code)&&(e.altKey&&e.shiftKey||"AltRight"===o.dataset.code&&e.shiftKey)&&("en"===localStorage.getItem("lang")?(a="ru",localStorage.setItem("lang",a)):(a="en",localStorage.setItem("lang",a)),t(i,a),d.innerHTML=n(a)),e.shiftKey&&document.querySelectorAll(".button_text").forEach((e=>{"false"===localStorage.getItem("caps")?e.innerHTML=e.innerHTML.toUpperCase():e.innerHTML=e.innerHTML.toLowerCase()})),"CapsLock"===e.code&&c(o),b.includes(e.code)&&"CapsLock"!==e.code&&(o.style.background="#808080")})),document.addEventListener("keyup",(e=>{const t=i.querySelector(`[data-code=${e.code}]`);b.includes(e.code)&&"CapsLock"!==e.code&&(t.style.background="#000000"),"Shift"===e.key&&document.querySelectorAll(".button_text").forEach((e=>{"false"===localStorage.getItem("caps")?e.innerHTML=e.innerHTML.toLowerCase():e.innerHTML=e.innerHTML.toUpperCase()}))})),document.addEventListener("click",(e=>{let t;e.target.classList.contains("button")&&(t=e.target,t.classList.contains("button_capslock")&&c(t))})),document.addEventListener("mousedown",(e=>{let t;e.target.classList.contains("button")&&(t=e.target,(t.classList.contains("button_leftshift")||t.classList.contains("button_rightshift"))&&document.querySelectorAll(".button_text").forEach((e=>{"false"===localStorage.getItem("caps")?e.innerHTML=e.innerHTML.toUpperCase():e.innerHTML=e.innerHTML.toLowerCase()})),t.classList.contains("button_space")&&(u.value+=" "),t.classList.contains("button_capslock")||(t.style.background="#808080"),(t.classList.contains("button_text")||t.classList.contains("button_digit"))&&(u.value+=t.innerHTML))})),document.addEventListener("mouseup",(e=>{let t;e.target.classList.contains("button")&&(t=e.target,(t.classList.contains("button_leftshift")||t.classList.contains("button_rightshift"))&&document.querySelectorAll(".button_text").forEach((e=>{"false"===localStorage.getItem("caps")?e.innerHTML=e.innerHTML.toLowerCase():e.innerHTML=e.innerHTML.toUpperCase()})),t.classList.contains("button_capslock")||(t.style.background="#000000"))})),u.addEventListener("blur",(e=>{e.target.focus()}))})();